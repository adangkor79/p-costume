<div class="product-detail-container min-h-screen pt-2" *ngIf="product">
  <div class="rounded-lg shadow-xl overflow-hidden text-black mx-2">
    <div class="flex flex-col md:flex-row">
      <!-- แสดงรูปภาพ -->
      <div class="md:w-1/2 p-4">
        <div class="flex justify-center">
          <img *ngIf="currentImage" [src]="currentImage" alt="product" class="w-full min-h-[250px] max-h-[500px] object-cover rounded-lg" />
        </div>
        <div class="flex justify-center mt-4 space-x-2" *ngIf="ImageList.length > 1">
          <ng-container *ngFor="let img of ImageList.slice(1)">
            <img
              [src]="img.value"
              alt="product-thumbnail"
              class="w-16 h-16 object-cover border border-gray-600 rounded-lg cursor-pointer"
              (mouseenter)="onThumbnailHover(img.value)"
              (mouseleave)="onThumbnailLeave()"
            />
          </ng-container>
        </div>
      </div>

      <!-- แสดงรายละเอียดของสินค้า -->
      <div class="md:w-1/2 p-4">
        <h2 class="text-2xl font-bold mb-4">{{ product?.productName }}</h2>
        <p class="text-lg mb-4">{{ product?.productDesc }}</p>
        <div class="flex items-center mb-4">
          <span class="font-bold text-lg text-gray-800">ราคา:</span>
          <span class="font-bold text-lg ml-2">{{ product?.productPrice }}</span>
        </div>
        <div class="flex items-center mb-4">
          <span class="font-bold text-lg text-gray-800">คลัง:</span>
          <span class="font-bold text-lg ml-2">{{ product?.productStock }}</span>
        </div>
        <div class="flex items-center mb-4">
          <span class="font-bold text-lg text-gray-800">หมวดหมู่:</span>
          <span class="font-bold text-lg ml-2">{{ productTypeName }}</span>
        </div>
        <div class="flex items-center mb-4">
          <span class="font-bold text-lg text-gray-800">จำนวน:</span>
          <button (click)="decreaseQuantity()" class="bg-gray-600 text-black px-2 py-1 rounded-l">-</button>
          <input type="number" [(ngModel)]="quantity" class="w-12 text-center" readonly />
          <button (click)="increaseQuantity()" class="bg-gray-600 text-black px-2 py-1 rounded-r">+</button>
        </div>
        <button (click)="addToCart(product)" class="bg-purple-500 text-white rounded-full px-4 py-2 hover:bg-purple-700 transition-colors duration-300" >เพิ่มไปยังตะกร้า</button>
      </div>
    </div>
  </div>

  <!-- แสดงสินค้าที่เกี่ยวข้อง -->
  <div class="related-products mt-8 border-t-4 border-gray-600">
    <h2 class="text-2xl font-bold mb-4 text-black">สินค้าอื่นๆ</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 p-4">
      <div *ngFor="let relatedProduct of relatedProducts" (click)="viewProductDetail(relatedProduct.productId)"
        class="card card-compact bg-white shadow-xl cursor-pointer transition-transform transform hover:scale-105">
        <figure>
          <!-- แสดงเฉพาะรูปภาพขนาดใหญ่ -->
          <img *ngIf="relatedProduct.imgList.length > 0" [src]="relatedProduct.imgList[0].value" alt="related-product"
            class="w-full h-64 object-cover rounded-t-lg sm:rounded-lg" />
        </figure>
        <div class="card-body">
          <h2 class="card-title text-black">{{ relatedProduct.productName }}</h2>
          <p class="font-bold text-black">ราคา: {{ relatedProduct.productPrice }}</p>
          <div class="card-actions justify-end">
            <button class="bg-purple-500 text-white rounded-full px-4 py-2 hover:bg-purple-700 transition-colors duration-300" (click)="addRelateToCart(relatedProduct, $event)">ซื้อเลย</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
