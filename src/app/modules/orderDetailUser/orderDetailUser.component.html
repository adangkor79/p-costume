<div class="min-h-screen text-black p-4">
  <div class="container mx-auto rounded-lg shadow-lg p-6">
    <h2 class="text-3xl font-extrabold mb-6">รายละเอียดคำสั่งซื้อ</h2>
    <div *ngIf="order">

      <div class="mb-6">
        <h3 class="text-xl font-semibold">รายการสินค้าในคำสั่งซื้อ</h3>
        <div *ngFor="let item of order.items" class="rounded-lg shadow-md p-4 mb-4 flex items-center">
          <img [src]="item.images && item.images.length > 0 ? item.images[0].value : 'assets/default-image.jpg'" alt="product" class="w-24 h-24 object-cover rounded-lg" />
          <div class="flex-1 ml-4">
            <h3 class="text-2xl font-semibold">รหัสสินค้า: {{ item.productId }}</h3>
            <p>จำนวน: {{ item.quantity }}</p>
            <p>ราคา: {{ item.price | currency:'THB' }}</p>
            <div *ngIf="item.images && item.images.length > 0">
              <h6 class="text-lg font-semibold">ภาพสินค้า:</h6>
              <div class="product-images flex flex-wrap">
                <img *ngFor="let image of item.images" [src]="image.value" [alt]="image.key" class="w-16 h-16 object-cover rounded-lg m-1" />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div class="p-4 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold mb-2">ข้อมูลคำสั่งซื้อ</h3>
          <p>หมายเลขคำสั่งซื้อ: {{ order.orderId }}</p>
          <p>หมายเลขผู้ใช้: {{ order.userDetailId }}</p>
          <p>หมายเลขการชำระเงิน: {{ order.paymentId }}</p>
          <p>ยอดรวม: {{ order.totalAmount | currency:'THB' }}</p>
          <p>วันที่สั่งซื้อ: {{ order.orderDate | date:'short' }}</p>
          <p>สถานะ: {{ getStatusText(order.status) }}</p>
        </div>

        <div class="p-4 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold mb-2">ข้อมูลผู้ใช้</h3>
          <p>หมายเลขผู้ใช้: {{ order.userDetail.userId }}</p>
          <p>ชื่อ: {{ order.userDetail.firstName }}</p>
          <p>นามสกุล: {{ order.userDetail.lastName }}</p>
          <p>อายุ: {{ order.userDetail.age }}</p>
          <p>โทรศัพท์: {{ order.userDetail.phone }}</p>
          <p>อีเมล: {{ order.userDetail.email }}</p>
          <p>ที่อยู่: {{ order.userDetail.address }}</p>
        </div>
      </div>

      <!-- Payment Button -->
      <div class="text-center mt-6">
        <button (click)="navigateToPayment()" class="bg-purple-300 hover:bg-purple-100 text-purple-900 font-bold py-2 px-4 rounded">
          ไปยังหน้าการชำระเงิน
        </button>
      </div>
    </div>
  </div>
</div>
